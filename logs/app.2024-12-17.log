2024-12-17 13:35:10 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 57224 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 13:35:10 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 13:35:10 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 13:35:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 13:35:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 156 ms. Found 1 JPA repository interfaces.
2024-12-17 13:35:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 13:35:16 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 13:35:16 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 13:35:16 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 13:35:17 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 13:35:17 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6502 ms
2024-12-17 13:35:18 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 13:35:18 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 13:35:18 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 13:35:18 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:35:18 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 13:35:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 13:35:21 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@173a5fad
2024-12-17 13:35:21 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 13:35:21 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@42a05533
2024-12-17 13:35:22 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:35:24 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 13:35:25 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 13:35:27 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 13:35:27 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 13:35:28 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 13:35:28 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6418075c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f9919a2, org.springframework.security.web.context.SecurityContextHolderFilter@59b43e35, org.springframework.security.web.header.HeaderWriterFilter@7aa5292d, org.springframework.web.filter.CorsFilter@530ee11a, org.springframework.security.web.authentication.logout.LogoutFilter@6aa85fcf, com.example.demo.config.JwtAuthenticationFilter@5039c2cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d7f2719, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@599fab92, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54d116d5, org.springframework.security.web.session.SessionManagementFilter@f461c9c, org.springframework.security.web.access.ExceptionTranslationFilter@22f1a340, org.springframework.security.web.access.intercept.AuthorizationFilter@1d6ed085]
2024-12-17 13:35:29 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 13:35:29 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 13:35:29 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 13:35:29 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:35:29 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:35:29 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734417329675
2024-12-17 13:35:29 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 13:35:29 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 19.344 seconds (process running for 19.987)
2024-12-17 13:35:29 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 13:35:29 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 13:35:29 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:35:29 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:35:29 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734417329899
2024-12-17 13:35:30 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 13:35:30 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 13:35:30 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:35:30 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:35:30 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4231 with epoch 0
2024-12-17 13:35:30 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 13:35:30 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:35:30 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-491c2e7e-a6b7-421b-aa83-a1d7315b84c1
2024-12-17 13:35:30 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 13:35:30 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:35:34 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=7, memberId='consumer-api_service-1-491c2e7e-a6b7-421b-aa83-a1d7315b84c1', protocol='range'}
2024-12-17 13:35:34 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 7: {consumer-api_service-1-491c2e7e-a6b7-421b-aa83-a1d7315b84c1=Assignment(partitions=[response-0])}
2024-12-17 13:35:34 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=7, memberId='consumer-api_service-1-491c2e7e-a6b7-421b-aa83-a1d7315b84c1', protocol='range'}
2024-12-17 13:35:34 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 13:35:34 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 13:35:34 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2024, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 13:35:34 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 13:35:40 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:35:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-17 13:35:40 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-17 13:35:40 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2024-12-17 13:35:42 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1237 ms
2024-12-17 13:35:49 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter=FilterS21(status=true)
2024-12-17 13:35:50 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition peers-0 to 0 since the associated topicId changed from null to 4KFTppFNQIqDvF62kFtcnA
2024-12-17 13:36:00 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter=FilterS21(status=true)
2024-12-17 13:36:10 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter=FilterS21(status=true)
2024-12-17 13:36:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 13:36:16 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 13:36:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-491c2e7e-a6b7-421b-aa83-a1d7315b84c1 sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 13:36:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 13:36:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 13:36:16 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 13:36:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 13:36:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 13:36:17 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 13:36:17 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 13:36:17 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 13:36:17 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 13:36:17 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 13:36:19 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 13:36:19 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 13:36:19 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 13:36:19 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 13:36:19 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 13:36:19 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 13:36:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 13:36:21 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-17 13:36:24 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 57953 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 13:36:24 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 13:36:24 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 13:36:25 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 13:36:25 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 1 JPA repository interfaces.
2024-12-17 13:36:26 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 13:36:26 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 13:36:26 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 13:36:26 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 13:36:26 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 13:36:26 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1663 ms
2024-12-17 13:36:26 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 13:36:26 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 13:36:26 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 13:36:26 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:36:26 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 13:36:26 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 13:36:29 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1a01ffff
2024-12-17 13:36:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 13:36:29 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7c8df667
2024-12-17 13:36:30 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:36:30 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 13:36:31 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 13:36:31 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 13:36:31 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 13:36:32 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 13:36:32 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d7f2719, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@685e5967, org.springframework.security.web.context.SecurityContextHolderFilter@33315925, org.springframework.security.web.header.HeaderWriterFilter@586af46, org.springframework.web.filter.CorsFilter@106387cf, org.springframework.security.web.authentication.logout.LogoutFilter@6137dc84, com.example.demo.config.JwtAuthenticationFilter@112b3298, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@628b9af5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4628f386, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d3c14c3, org.springframework.security.web.session.SessionManagementFilter@726ee6cf, org.springframework.security.web.access.ExceptionTranslationFilter@4807b2b7, org.springframework.security.web.access.intercept.AuthorizationFilter@2a1be9f8]
2024-12-17 13:36:32 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 13:36:32 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 13:36:32 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 13:36:32 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:36:32 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:36:32 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734417392546
2024-12-17 13:36:32 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 13:36:32 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 8.211 seconds (process running for 8.853)
2024-12-17 13:36:32 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 13:36:32 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 13:36:32 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:36:32 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:36:32 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734417392621
2024-12-17 13:36:33 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 13:36:33 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 13:36:33 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:36:33 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:36:33 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4232 with epoch 0
2024-12-17 13:36:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 13:36:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:36:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-7d69ef86-1bb4-47da-8f16-2d14603e538d
2024-12-17 13:36:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 13:36:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:36:36 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=9, memberId='consumer-api_service-1-7d69ef86-1bb4-47da-8f16-2d14603e538d', protocol='range'}
2024-12-17 13:36:36 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 9: {consumer-api_service-1-7d69ef86-1bb4-47da-8f16-2d14603e538d=Assignment(partitions=[response-0])}
2024-12-17 13:36:36 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=9, memberId='consumer-api_service-1-7d69ef86-1bb4-47da-8f16-2d14603e538d', protocol='range'}
2024-12-17 13:36:36 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 13:36:36 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 13:36:37 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2024, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 13:36:37 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 13:36:43 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:36:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-17 13:36:46 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-17 13:36:46 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-12-17 13:36:46 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter=FilterS21(status=true)
2024-12-17 13:36:46 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'test': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: (String)"test"; line: 1, column: 5]] with root cause
com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'test': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: (String)"test"; line: 1, column: 5]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2477)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:760)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:3041)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:3019)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._matchToken2(ReaderBasedJsonParser.java:2809)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._matchToken(ReaderBasedJsonParser.java:2787)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._matchTrue(ReaderBasedJsonParser.java:2747)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:770)
	at com.fasterxml.jackson.databind.ObjectMapper._readTreeAndClose(ObjectMapper.java:4854)
	at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3219)
	at com.example.demo.service.KafkaService.sendRequest(KafkaService.java:39)
	at com.example.demo.service.SchoolService.peers(SchoolService.java:17)
	at com.example.demo.controller.SchoolController.peers(SchoolController.java:27)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:477)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:338)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:80)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:126)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at com.example.demo.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:39)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:321)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:222)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2024-12-17 13:37:38 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 13:37:38 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 13:37:38 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-7d69ef86-1bb4-47da-8f16-2d14603e538d sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 13:37:38 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 13:37:38 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 13:37:38 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 13:37:38 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 13:37:38 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 13:37:38 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 13:37:38 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 13:37:38 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 13:37:38 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 13:37:38 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 13:37:38 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 13:37:38 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 13:37:38 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 13:37:38 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 13:37:38 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 13:37:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 13:37:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 13:37:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-17 13:37:43 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 58717 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 13:37:43 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 13:37:43 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 13:37:44 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 13:37:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 1 JPA repository interfaces.
2024-12-17 13:37:45 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 13:37:45 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 13:37:45 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 13:37:45 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 13:37:45 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 13:37:45 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1622 ms
2024-12-17 13:37:45 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 13:37:45 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 13:37:45 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 13:37:46 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:37:46 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 13:37:46 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 13:37:48 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@a99c42c
2024-12-17 13:37:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 13:37:48 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@498e41a4
2024-12-17 13:37:49 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:37:49 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 13:37:50 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 13:37:50 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 13:37:51 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 13:37:51 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 13:37:51 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20e25bf7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9fc125b, org.springframework.security.web.context.SecurityContextHolderFilter@798d8247, org.springframework.security.web.header.HeaderWriterFilter@19a799cb, org.springframework.web.filter.CorsFilter@62129f97, org.springframework.security.web.authentication.logout.LogoutFilter@726ee6cf, com.example.demo.config.JwtAuthenticationFilter@51d2d336, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46d83ec4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e6ec71f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22db974d, org.springframework.security.web.session.SessionManagementFilter@20331c8e, org.springframework.security.web.access.ExceptionTranslationFilter@3aae9e8f, org.springframework.security.web.access.intercept.AuthorizationFilter@653a5a]
2024-12-17 13:37:51 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 13:37:51 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 13:37:51 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 13:37:51 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:37:51 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:37:51 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734417471810
2024-12-17 13:37:51 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 13:37:51 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 8.166 seconds (process running for 8.84)
2024-12-17 13:37:51 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 13:37:51 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 13:37:51 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:37:51 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:37:51 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734417471915
2024-12-17 13:37:52 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 13:37:52 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 13:37:52 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:37:52 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:37:52 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4233 with epoch 0
2024-12-17 13:37:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 13:37:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:37:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-bfcbeb29-5f66-4932-bd39-a9926bd04ce0
2024-12-17 13:37:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 13:37:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:37:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-17 13:37:54 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-17 13:37:54 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-12-17 13:37:54 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 13:37:54 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition peers-0 to 0 since the associated topicId changed from null to 4KFTppFNQIqDvF62kFtcnA
2024-12-17 13:37:55 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=11, memberId='consumer-api_service-1-bfcbeb29-5f66-4932-bd39-a9926bd04ce0', protocol='range'}
2024-12-17 13:37:55 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 11: {consumer-api_service-1-bfcbeb29-5f66-4932-bd39-a9926bd04ce0=Assignment(partitions=[response-0])}
2024-12-17 13:37:56 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=11, memberId='consumer-api_service-1-bfcbeb29-5f66-4932-bd39-a9926bd04ce0', protocol='range'}
2024-12-17 13:37:56 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 13:37:56 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 13:37:56 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2024, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 13:37:56 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 13:38:02 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:39:01 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:40:01 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:41:01 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:42:01 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:42:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 13:42:19 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 13:42:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-bfcbeb29-5f66-4932-bd39-a9926bd04ce0 sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 13:42:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 13:42:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 13:42:19 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 13:42:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 13:42:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 13:42:19 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 13:42:19 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 13:42:19 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 13:42:19 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 13:42:19 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 13:42:19 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 13:42:19 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 13:42:19 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 13:42:19 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 13:42:19 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 13:42:19 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 13:42:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 13:42:21 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-17 13:47:04 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 64465 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 13:47:04 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 13:47:04 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 13:47:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 13:47:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 1 JPA repository interfaces.
2024-12-17 13:47:05 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 13:47:05 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 13:47:05 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 13:47:05 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 13:47:05 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 13:47:05 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1411 ms
2024-12-17 13:47:06 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 13:47:06 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 13:47:06 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 13:47:06 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:47:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 13:47:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 13:47:08 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7742a276
2024-12-17 13:47:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 13:47:09 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6d31f14
2024-12-17 13:47:09 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 13:47:10 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 13:47:10 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 13:47:11 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 13:47:11 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 13:47:11 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 13:47:11 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@25cef4b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e783f78, org.springframework.security.web.context.SecurityContextHolderFilter@10545d02, org.springframework.security.web.header.HeaderWriterFilter@4628f386, org.springframework.web.filter.CorsFilter@5bdef8ee, org.springframework.security.web.authentication.logout.LogoutFilter@685e5967, com.example.demo.config.JwtAuthenticationFilter@325236f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f4b2d13, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73c6ebec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@345d4ecb, org.springframework.security.web.session.SessionManagementFilter@9fc125b, org.springframework.security.web.access.ExceptionTranslationFilter@2a3c3a04, org.springframework.security.web.access.intercept.AuthorizationFilter@2fda92e0]
2024-12-17 13:47:12 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 13:47:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 13:47:12 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 13:47:12 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:47:12 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:47:12 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734418032159
2024-12-17 13:47:12 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 13:47:12 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 7.973 seconds (process running for 8.536)
2024-12-17 13:47:12 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 13:47:12 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 13:47:12 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 13:47:12 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 13:47:12 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734418032230
2024-12-17 13:47:12 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 13:47:12 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:47:12 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 13:47:12 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 13:47:12 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 13:47:12 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:47:12 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4234 with epoch 0
2024-12-17 13:47:13 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-0f0a0c7b-ad9f-471f-bebc-61d076ccb531
2024-12-17 13:47:13 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 13:47:13 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 13:47:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=13, memberId='consumer-api_service-1-0f0a0c7b-ad9f-471f-bebc-61d076ccb531', protocol='range'}
2024-12-17 13:47:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 13: {consumer-api_service-1-0f0a0c7b-ad9f-471f-bebc-61d076ccb531=Assignment(partitions=[response-0])}
2024-12-17 13:47:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=13, memberId='consumer-api_service-1-0f0a0c7b-ad9f-471f-bebc-61d076ccb531', protocol='range'}
2024-12-17 13:47:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 13:47:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 13:47:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2024, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 13:47:16 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 13:47:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:47:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-17 13:47:40 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-17 13:47:40 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-12-17 13:47:41 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 360 ms
2024-12-17 13:48:00 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 13:48:00 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition peers-0 to 0 since the associated topicId changed from null to 4KFTppFNQIqDvF62kFtcnA
2024-12-17 13:48:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:49:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:50:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:51:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:52:12 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 13:52:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:53:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:54:15 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 13:54:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:55:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:56:12 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Node -1 disconnected.
2024-12-17 13:56:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:56:42 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Node -1 disconnected.
2024-12-17 13:57:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:58:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:59:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 13:59:37 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:00:04 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:00:11 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:00:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 14:00:51 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:01:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 14:01:23 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:01:30 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:01:51 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:02:01 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:02:07 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 14:02:22 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 14:03:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 14:03:16 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 14:03:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-0f0a0c7b-ad9f-471f-bebc-61d076ccb531 sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 14:03:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 14:03:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 14:03:16 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 14:03:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 14:03:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 14:03:16 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 14:03:16 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 14:03:16 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 14:03:16 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 14:03:16 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 14:03:16 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 14:03:16 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 14:03:16 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 14:03:16 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 14:03:16 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 14:03:16 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 14:03:16 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 14:03:18 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-17 15:01:19 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 2884 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 15:01:19 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 15:01:19 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 15:01:22 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 15:01:23 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 1 JPA repository interfaces.
2024-12-17 15:01:23 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 15:01:23 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 15:01:23 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 15:01:23 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 15:01:24 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 15:01:24 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4321 ms
2024-12-17 15:01:24 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 15:01:24 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 15:01:24 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 15:01:24 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 15:01:24 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 15:01:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 15:01:27 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ee456c7
2024-12-17 15:01:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 15:01:27 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@78e043e4
2024-12-17 15:01:28 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 15:01:28 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 15:01:29 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 15:01:29 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 15:01:29 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 15:01:30 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 15:01:30 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1798c749, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@726ee6cf, org.springframework.security.web.context.SecurityContextHolderFilter@2b4675db, org.springframework.security.web.header.HeaderWriterFilter@24caa80, org.springframework.web.filter.CorsFilter@4a83d61c, org.springframework.security.web.authentication.logout.LogoutFilter@66011fbc, com.example.demo.config.JwtAuthenticationFilter@2b06c388, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58ec3e8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19a799cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@624268ab, org.springframework.security.web.session.SessionManagementFilter@16a78700, org.springframework.security.web.access.ExceptionTranslationFilter@4250b0c1, org.springframework.security.web.access.intercept.AuthorizationFilter@495598c5]
2024-12-17 15:01:30 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 15:01:30 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 15:01:30 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 15:01:31 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 15:01:31 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 15:01:31 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734422491044
2024-12-17 15:01:31 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 15:01:31 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 12.44 seconds (process running for 13.667)
2024-12-17 15:01:31 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 15:01:31 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 15:01:31 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 15:01:31 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 15:01:31 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734422491165
2024-12-17 15:01:31 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 15:01:31 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 15:01:31 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 15:01:31 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 15:01:31 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 15:01:31 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4244 with epoch 0
2024-12-17 15:01:31 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 15:01:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-ff347f85-e166-4a65-bf3e-f21681d55337
2024-12-17 15:01:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 15:01:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 15:01:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=16, memberId='consumer-api_service-1-ff347f85-e166-4a65-bf3e-f21681d55337', protocol='range'}
2024-12-17 15:01:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=16, memberId='consumer-api_service-1-ff347f85-e166-4a65-bf3e-f21681d55337', protocol='range'}
2024-12-17 15:01:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[])
2024-12-17 15:01:33 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: 
2024-12-17 15:01:33 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: []
2024-12-17 15:01:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:02:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:03:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:04:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:05:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:06:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:07:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:08:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: group is already rebalancing
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions 
2024-12-17 15:09:18 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: []
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=17, memberId='consumer-api_service-1-ff347f85-e166-4a65-bf3e-f21681d55337', protocol='range'}
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 17: {consumer-api_service-1-ff347f85-e166-4a65-bf3e-f21681d55337=Assignment(partitions=[response-0])}
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=17, memberId='consumer-api_service-1-ff347f85-e166-4a65-bf3e-f21681d55337', protocol='range'}
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 15:09:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 15:09:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2219, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 15:09:19 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 15:09:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:10:32 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Node -1 disconnected.
2024-12-17 15:10:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:11:01 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Node -1 disconnected.
2024-12-17 15:11:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:12:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:13:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:14:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:15:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:16:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:17:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:18:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:19:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:20:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:21:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:22:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:23:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:24:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:25:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:26:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:27:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:28:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:29:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:30:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:31:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:32:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:33:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:34:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:35:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:36:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:37:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:38:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:39:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:40:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:41:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:42:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:43:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:44:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:45:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:46:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:47:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:48:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:49:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:50:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:51:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:52:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:53:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:54:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:55:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:56:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:57:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:58:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 15:59:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:00:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:01:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:02:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:03:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:04:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:05:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:06:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:07:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:08:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:09:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:10:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:11:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:12:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:13:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:14:41 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 16:15:24 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 16:15:24 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 16:15:24 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-ff347f85-e166-4a65-bf3e-f21681d55337 sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 16:15:24 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 16:15:24 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 16:15:24 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 16:15:24 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 16:15:24 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 16:15:24 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 16:15:24 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 16:15:24 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 16:15:24 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 16:15:24 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 16:15:24 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 16:15:24 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 16:15:24 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 16:15:24 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 16:15:24 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 16:15:24 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 16:15:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 18:27:33 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 4966 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 18:27:33 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 18:27:33 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 18:27:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 18:27:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 94 ms. Found 1 JPA repository interfaces.
2024-12-17 18:27:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 18:27:37 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 18:27:37 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 18:27:37 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 18:27:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 18:27:37 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3713 ms
2024-12-17 18:27:38 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 18:27:38 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 18:27:38 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 18:27:38 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 18:27:38 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 18:27:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 18:27:41 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@39514976
2024-12-17 18:27:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 18:27:41 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@738a39cc
2024-12-17 18:27:42 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 18:27:43 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 18:27:44 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 18:27:44 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 18:27:45 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 18:27:45 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 18:27:45 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32f243f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7aa5292d, org.springframework.security.web.context.SecurityContextHolderFilter@f5314bc, org.springframework.security.web.header.HeaderWriterFilter@69c7eafd, org.springframework.web.filter.CorsFilter@25291901, org.springframework.security.web.authentication.logout.LogoutFilter@20e25bf7, com.example.demo.config.JwtAuthenticationFilter@4629dde5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71eead09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63024843, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a6d4547, org.springframework.security.web.session.SessionManagementFilter@4b718c45, org.springframework.security.web.access.ExceptionTranslationFilter@2ccb8db3, org.springframework.security.web.access.intercept.AuthorizationFilter@60c33609]
2024-12-17 18:27:46 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 18:27:46 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 18:27:46 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 18:27:46 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 18:27:46 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 18:27:46 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734434866460
2024-12-17 18:27:46 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 18:27:46 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 13.209 seconds (process running for 14.28)
2024-12-17 18:27:46 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 18:27:46 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 18:27:46 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 18:27:46 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 18:27:46 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734434866637
2024-12-17 18:27:47 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 18:27:47 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 18:27:47 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 18:27:47 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 18:27:47 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4245 with epoch 0
2024-12-17 18:27:47 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 18:27:47 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 18:27:47 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-0877c161-7b78-4149-99ed-7b14fb477cbd
2024-12-17 18:27:47 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 18:27:47 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 18:27:50 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=19, memberId='consumer-api_service-1-0877c161-7b78-4149-99ed-7b14fb477cbd', protocol='range'}
2024-12-17 18:27:50 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 19: {consumer-api_service-1-0877c161-7b78-4149-99ed-7b14fb477cbd=Assignment(partitions=[response-0])}
2024-12-17 18:27:50 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=19, memberId='consumer-api_service-1-0877c161-7b78-4149-99ed-7b14fb477cbd', protocol='range'}
2024-12-17 18:27:50 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 18:27:50 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 18:27:51 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2219, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 18:27:51 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 18:27:57 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:27:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-17 18:27:58 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-17 18:27:58 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-12-17 18:27:59 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 804 ms
2024-12-17 18:28:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:29:53 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 18:29:54 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition peers-0 to 0 since the associated topicId changed from null to 4KFTppFNQIqDvF62kFtcnA
2024-12-17 18:29:56 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 18:29:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:30:00 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 18:30:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:31:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:32:47 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 18:32:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:33:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:34:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:35:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:36:47 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Node -1 disconnected.
2024-12-17 18:36:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:37:16 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Node -1 disconnected.
2024-12-17 18:37:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:38:56 ERROR c.example.demo.service.PingService - Ошибка при проверк2024-12-17 18:40:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:42:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:43:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:44:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:45:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:46:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:47:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:48:56 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 18:49:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 18:49:32 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 18:49:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-0877c161-7b78-4149-99ed-7b14fb477cbd sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 18:49:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 18:49:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 18:49:32 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 18:49:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 18:49:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 18:49:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 18:49:32 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 18:49:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 18:49:32 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 18:49:32 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 18:49:32 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 18:49:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 18:49:32 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 18:49:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 18:49:32 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 18:49:32 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 18:49:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 18:49:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-17 18:50:15 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 16740 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 18:50:15 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 18:50:15 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 18:50:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 18:50:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 1 JPA repository interfaces.
2024-12-17 18:50:19 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 18:50:19 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 18:50:19 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 18:50:19 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 18:50:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 18:50:19 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4568 ms
2024-12-17 18:50:20 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 18:50:20 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 18:50:20 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 18:50:20 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 18:50:20 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 18:50:20 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 18:50:23 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ee456c7
2024-12-17 18:50:23 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 18:50:23 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@78e043e4
2024-12-17 18:50:24 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 18:50:27 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 18:50:28 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 18:50:29 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 18:50:30 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 18:50:32 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 18:50:32 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6137dc84, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22f1a340, org.springframework.security.web.context.SecurityContextHolderFilter@25639668, org.springframework.security.web.header.HeaderWriterFilter@2ccb8db3, org.springframework.web.filter.CorsFilter@32f243f, org.springframework.security.web.authentication.logout.LogoutFilter@19ce597a, com.example.demo.config.JwtAuthenticationFilter@2b06c388, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f5314bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1267adbe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7aa5292d, org.springframework.security.web.session.SessionManagementFilter@77afdbc5, org.springframework.security.web.access.ExceptionTranslationFilter@41623694, org.springframework.security.web.access.intercept.AuthorizationFilter@49314684]
2024-12-17 18:50:33 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 18:50:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 18:50:34 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.k2024-12-17 19:00:04 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Node -1 disconnected.
2024-12-17 19:01:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:02:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:03:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:04:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:05:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:06:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:07:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:08:44 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 19:09:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 19:09:32 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 19:09:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-e21a8c6f-aca5-403c-8576-256cf4830160 sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 19:09:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 19:09:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 19:09:32 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 19:09:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 19:09:32 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 19:09:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 19:09:32 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 19:09:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 19:09:32 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 19:09:32 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 19:09:32 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 19:09:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 19:09:32 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 19:09:32 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 19:09:32 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 19:09:32 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 19:09:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 19:09:34 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-2
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 19:09:34 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-2] Instantiated an idempotent producer.
2024-12-17 19:09:34 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 19:09:34 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 19:09:34 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734437374140
2024-12-17 19:09:34 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-2] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 19:09:34 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-2] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 19:09:34 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-2] ProducerId set to 4248 with epoch 0
2024-12-17 19:09:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-17 21:49:04 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 6866 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 21:49:04 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 21:49:04 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 21:49:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 21:49:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 1 JPA repository interfaces.
2024-12-17 21:49:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 21:49:07 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 21:49:07 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 21:49:07 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 21:49:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 21:49:07 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2556 ms
2024-12-17 21:49:07 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 21:49:07 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 21:49:07 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 21:49:08 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 21:49:09 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 21:49:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 21:49:12 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@42503099
2024-12-17 21:49:12 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 21:49:12 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4491eaeb
2024-12-17 21:49:13 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 21:49:15 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 21:49:16 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 21:49:16 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 21:49:17 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 21:49:17 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 21:49:17 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@49314684, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d5d945d, org.springframework.security.web.context.SecurityContextHolderFilter@77afdbc5, org.springframework.security.web.header.HeaderWriterFilter@798d8247, org.springframework.web.filter.CorsFilter@60c33609, org.springframework.security.web.authentication.logout.LogoutFilter@2a9fd482, com.example.demo.config.JwtAuthenticationFilter@467421cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b718c45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4807b2b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6137dc84, org.springframework.security.web.session.SessionManagementFilter@d91e8c7, org.springframework.security.web.access.ExceptionTranslationFilter@1a13b5c1, org.springframework.security.web.access.intercept.AuthorizationFilter@367653cc]
2024-12-17 21:49:18 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 21:49:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 21:49:18 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 21:49:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 21:49:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 21:49:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734446958562
2024-12-17 21:49:18 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 21:49:18 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 14.71 seconds (process running for 15.834)
2024-12-17 21:49:18 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 21:49:18 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 21:49:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 21:49:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 21:49:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734446958705
2024-12-17 21:49:19 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 21:49:19 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 21:49:19 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 21:49:19 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 21:49:19 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4249 with epoch 0
2024-12-17 21:49:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 21:49:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 21:49:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-f96e9843-c254-494a-afbb-65c551caa13f
2024-12-17 21:49:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 21:49:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 21:49:22 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=23, memberId='consumer-api_service-1-f96e9843-c254-494a-afbb-65c551caa13f', protocol='range'}
2024-12-17 21:49:22 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 23: {consumer-api_service-1-f96e9843-c254-494a-afbb-65c551caa13f=Assignment(partitions=[response-0])}
2024-12-17 21:49:22 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=23, memberId='consumer-api_service-1-f96e9843-c254-494a-afbb-65c551caa13f', protocol='range'}
2024-12-17 21:49:22 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 21:49:22 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 21:49:22 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2222, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 21:49:22 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 21:49:29 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:50:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:50:32 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-17 21:50:32 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-17 21:50:32 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-12-17 21:50:33 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 256 ms
2024-12-17 21:50:36 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 21:50:36 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition peers-0 to 0 since the associated topicId changed from null to 4KFTppFNQIqDvF62kFtcnA
2024-12-17 21:50:46 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 21:50:57 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 21:51:07 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 21:51:17 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 21:51:27 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 21:51:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:52:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:53:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:54:19 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 21:54:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:55:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:56:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:57:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:58:19 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Node -1 disconnected.
2024-12-17 21:58:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 21:58:48 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Node -1 disconnected.
2024-12-17 21:59:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:00:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:01:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:02:28 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:03:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 22:03:18 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 22:03:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-f96e9843-c254-494a-afbb-65c551caa13f sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 22:03:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 22:03:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 22:03:18 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 22:03:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 22:03:18 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 22:03:18 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 22:03:18 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 22:03:18 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 22:03:18 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 22:03:18 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 22:03:18 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 22:03:18 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 22:03:18 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 22:03:18 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 22:03:18 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 22:03:18 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 22:03:18 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 22:03:18 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-2
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 22:03:18 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-2] Instantiated an idempotent producer.
2024-12-17 22:03:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 22:03:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 22:03:18 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734447798622
2024-12-17 22:03:18 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-2] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 22:03:18 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-2] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 22:03:18 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-2] ProducerId set to 4250 with epoch 0
2024-12-17 22:03:20 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-17 22:06:56 INFO  c.example.demo.ApiGateWayApplication - Starting ApiGateWayApplication using Java 17.0.13 with PID 16443 (/Users/macygabr/Projects/ApiGateWay/target/classes started by macygabr in /Users/macygabr/Projects/ApiGateWay)
2024-12-17 22:06:56 DEBUG c.example.demo.ApiGateWayApplication - Running with Spring Boot v3.1.0, Spring v6.0.9
2024-12-17 22:06:56 INFO  c.example.demo.ApiGateWayApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-17 22:07:00 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-17 22:07:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 193 ms. Found 1 JPA repository interfaces.
2024-12-17 22:07:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-12-17 22:07:04 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-17 22:07:04 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-17 22:07:04 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2024-12-17 22:07:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-17 22:07:04 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8062 ms
2024-12-17 22:07:05 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-17 22:07:05 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.2.Final
2024-12-17 22:07:05 INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-12-17 22:07:05 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 22:07:05 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-17 22:07:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-12-17 22:07:08 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@12166229
2024-12-17 22:07:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-12-17 22:07:08 INFO  org.hibernate.orm.dialect - HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@192f5f39
2024-12-17 22:07:09 INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-12-17 22:07:11 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-17 22:07:12 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 22:07:13 DEBUG c.e.d.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-12-17 22:07:14 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-17 22:07:15 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2024-12-17 22:07:15 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@18baee88, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e67a18, org.springframework.security.web.context.SecurityContextHolderFilter@6b8683b8, org.springframework.security.web.header.HeaderWriterFilter@77afdbc5, org.springframework.web.filter.CorsFilter@37289e90, org.springframework.security.web.authentication.logout.LogoutFilter@73c6ebec, com.example.demo.config.JwtAuthenticationFilter@106b476a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e4ac3f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a83d61c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f461c9c, org.springframework.security.web.session.SessionManagementFilter@53ce27fa, org.springframework.security.web.access.ExceptionTranslationFilter@5b9ca528, org.springframework.security.web.access.intercept.AuthorizationFilter@2e0de20d]
2024-12-17 22:07:17 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-17 22:07:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-12-17 22:07:17 INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [37.194.168.90:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api_service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api_service
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2024-12-17 22:07:17 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 22:07:17 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 22:07:17 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734448037595
2024-12-17 22:07:17 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Subscribed to topic(s): response
2024-12-17 22:07:17 INFO  c.example.demo.ApiGateWayApplication - Started ApiGateWayApplication in 22.764 seconds (process running for 24.095)
2024-12-17 22:07:17 INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [37.194.168.90:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2024-12-17 22:07:17 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.
2024-12-17 22:07:17 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.4.0
2024-12-17 22:07:17 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 2e1947d240607d53
2024-12-17 22:07:17 INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1734448037761
2024-12-17 22:07:27 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 9993 ms.
2024-12-17 22:07:27 WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker 37.194.168.90:9092 (id: -1 rack: null) disconnected
2024-12-17 22:07:29 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 11934 ms.
2024-12-17 22:07:29 WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Bootstrap broker 37.194.168.90:9092 (id: -1 rack: null) disconnected
2024-12-17 22:07:48 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 18534 ms.
2024-12-17 22:07:48 WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Bootstrap broker 37.194.168.90:9092 (id: -1 rack: null) disconnected
2024-12-17 22:07:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-17 22:07:49 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-17 22:07:49 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-12-17 22:07:49 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 22:07:49 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 21730 ms.
2024-12-17 22:07:49 WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker 37.194.168.90:9092 (id: -1 rack: null) disconnected
2024-12-17 22:08:14 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 24125 ms.
2024-12-17 22:08:14 WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker 37.194.168.90:9092 (id: -1 rack: null) disconnected
2024-12-17 22:08:14 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition ping-0 to 0 since the associated topicId changed from null to gMEwJwZSSTmyq8v3b0Rknw
2024-12-17 22:08:14 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Resetting the last seen epoch of partition peers-0 to 0 since the associated topicId changed from null to 4KFTppFNQIqDvF62kFtcnA
2024-12-17 22:08:14 INFO  org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 22:08:14 INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=producer-1] ProducerId set to 4251 with epoch 0
2024-12-17 22:08:15 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 27264 ms.
2024-12-17 22:08:15 WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Bootstrap broker 37.194.168.90:9092 (id: -1 rack: null) disconnected
2024-12-17 22:08:15 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting the last seen epoch of partition response-0 to 0 since the associated topicId changed from null to qosCGtzOQC2deWwXhHSLtw
2024-12-17 22:08:15 INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cluster ID: rs0KtrdkQsGY2gwAHle7dQ
2024-12-17 22:08:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 22:08:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 22:08:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-a14f8aa1-33c1-44f9-a4bd-4e254a86024b
2024-12-17 22:08:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 22:08:16 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 22:08:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=25, memberId='consumer-api_service-1-a14f8aa1-33c1-44f9-a4bd-4e254a86024b', protocol='range'}
2024-12-17 22:08:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 25: {consumer-api_service-1-a14f8aa1-33c1-44f9-a4bd-4e254a86024b=Assignment(partitions=[response-0])}
2024-12-17 22:08:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=25, memberId='consumer-api_service-1-a14f8aa1-33c1-44f9-a4bd-4e254a86024b', protocol='range'}
2024-12-17 22:08:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 22:08:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 22:08:19 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2222, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 22:08:19 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 22:08:24 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:08:29 DEBUG c.example.demo.service.SchoolService - Получение списка пиров: page=0, size=25, campusId=46e7d965-21e9-4936-bea9-f5ea0d1fddf2, filter={"status":true}
2024-12-17 22:08:34 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:09:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:10:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:11:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:12:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:13:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:14:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:15:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Node 2147483646 disconnected.
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 915 due to node 2147483646 being disconnected (elapsed time since creation: 26172ms, elapsed time since send: 26172ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 916 due to node 2147483646 being disconnected (elapsed time since creation: 23172ms, elapsed time since send: 23172ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 917 due to node 2147483646 being disconnected (elapsed time since creation: 20171ms, elapsed time since send: 20171ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 918 due to node 2147483646 being disconnected (elapsed time since creation: 17171ms, elapsed time since send: 17171ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 919 due to node 2147483646 being disconnected (elapsed time since creation: 14170ms, elapsed time since send: 14170ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 920 due to node 2147483646 being disconnected (elapsed time since creation: 11169ms, elapsed time since send: 11169ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 921 due to node 2147483646 being disconnected (elapsed time since creation: 8169ms, elapsed time since send: 8169ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 922 due to node 2147483646 being disconnected (elapsed time since creation: 5168ms, elapsed time since send: 5168ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight HEARTBEAT request with correlation id 923 due to node 2147483646 being disconnected (elapsed time since creation: 2168ms, elapsed time since send: 2168ms, request timeout: 30000ms)
2024-12-17 22:15:42 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: null. isDisconnected: true. Rediscovery will be attempted.
2024-12-17 22:15:48 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Disconnecting from node 1 due to request timeout.
2024-12-17 22:15:48 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight FETCH request with correlation id 914 due to node 1 being disconnected (elapsed time since creation: 32454ms, elapsed time since send: 32454ms, request timeout: 30000ms)
2024-12-17 22:15:48 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight METADATA request with correlation id 924 due to node 1 being disconnected (elapsed time since creation: 7514ms, elapsed time since send: 7514ms, request timeout: 30000ms)
2024-12-17 22:15:48 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight FIND_COORDINATOR request with correlation id 925 due to node 1 being disconnected (elapsed time since creation: 5445ms, elapsed time since send: 5446ms, request timeout: 30000ms)
2024-12-17 22:15:48 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Cancelled in-flight FIND_COORDINATOR request with correlation id 926 due to node 1 being disconnected (elapsed time since creation: 3001ms, elapsed time since send: 3001ms, request timeout: 30000ms)
2024-12-17 22:15:48 INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-api_service-1, groupId=api_service] Error sending fetch request (sessionId=329529182, epoch=760) to node 1:
org.apache.kafka.common.errors.DisconnectException: null
2024-12-17 22:15:49 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Node 1 disconnected.
2024-12-17 22:15:49 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Cancelled in-flight PRODUCE request with correlation id 14 due to node 1 being disconnected (elapsed time since creation: 31861ms, elapsed time since send: 31861ms, request timeout: 30000ms)
2024-12-17 22:15:49 WARN  o.a.k.c.producer.internals.Sender - [Producer clientId=producer-1] Got error produce response with correlation id 14 on topic-partition ping-0, retrying (2147483646 attempts left). Error: NETWORK_EXCEPTION. Error Message: Disconnected from node 1
2024-12-17 22:15:49 WARN  o.a.k.c.producer.internals.Sender - [Producer clientId=producer-1] Received invalid metadata error in produce request on partition ping-0 due to org.apache.kafka.common.errors.NetworkException: Disconnected from node 1. Going to request metadata update now
2024-12-17 22:15:58 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 10683 ms.
2024-12-17 22:15:58 INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-api_service-1, groupId=api_service] Error sending fetch request (sessionId=329529182, epoch=INITIAL) to node 1:
org.apache.kafka.common.errors.DisconnectException: null
2024-12-17 22:16:01 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 11897 ms.
2024-12-17 22:16:20 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 21238 ms.
2024-12-17 22:16:20 INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-api_service-1, groupId=api_service] Error sending fetch request (sessionId=329529182, epoch=INITIAL) to node 1:
org.apache.kafka.common.errors.DisconnectException: null
2024-12-17 22:16:24 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 22633 ms.
2024-12-17 22:16:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Discovered group coordinator 37.194.168.90:9092 (id: 2147483646 rack: null)
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Attempt to heartbeat with Generation{generationId=25, memberId='consumer-api_service-1-a14f8aa1-33c1-44f9-a4bd-4e254a86024b', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Giving away all assigned partitions as lost since generation/memberID has been reset,indicating that consumer is in old state or no longer part of the group
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Lost previously assigned partitions response-0
2024-12-17 22:16:40 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions lost: [response-0]
2024-12-17 22:16:40 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: need to re-join with the given member-id: consumer-api_service-1-0950c3ea-c3b6-4eae-af4f-b2c79c9fc44c
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: rebalance failed due to 'The group member needs to have a valid member id before actually entering a consumer group.' (MemberIdRequiredException)
2024-12-17 22:16:40 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] (Re-)joining group
2024-12-17 22:16:43 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully joined group with generation Generation{generationId=27, memberId='consumer-api_service-1-0950c3ea-c3b6-4eae-af4f-b2c79c9fc44c', protocol='range'}
2024-12-17 22:16:43 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Finished assignment for group at generation 27: {consumer-api_service-1-0950c3ea-c3b6-4eae-af4f-b2c79c9fc44c=Assignment(partitions=[response-0])}
2024-12-17 22:16:43 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Successfully synced group in generation Generation{generationId=27, memberId='consumer-api_service-1-0950c3ea-c3b6-4eae-af4f-b2c79c9fc44c', protocol='range'}
2024-12-17 22:16:43 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Notifying assignor about the new Assignment(partitions=[response-0])
2024-12-17 22:16:43 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Adding newly assigned partitions: response-0
2024-12-17 22:16:43 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Setting offset for partition response-0 to the committed offset FetchPosition{offset=2230, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[37.194.168.90:9092 (id: 1 rack: null)], epoch=0}}
2024-12-17 22:16:43 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions assigned: [response-0]
2024-12-17 22:17:16 INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-api_service-1, groupId=api_service] Node -1 disconnected.
2024-12-17 22:17:17 INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Node -1 disconnected.
2024-12-17 22:17:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:18:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:19:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:20:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:21:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:22:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:23:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:24:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:25:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:26:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:27:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:28:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:29:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:30:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:31:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:32:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:33:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:34:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:35:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:36:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:37:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:38:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:39:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:40:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:41:27 ERROR c.example.demo.service.PingService - Ошибка при проверке соединения: Время ожидания превышено
2024-12-17 22:41:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Revoke previously assigned partitions response-0
2024-12-17 22:41:52 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: partitions revoked: [response-0]
2024-12-17 22:41:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Member consumer-api_service-1-0950c3ea-c3b6-4eae-af4f-b2c79c9fc44c sending LeaveGroup request to coordinator 37.194.168.90:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2024-12-17 22:41:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 22:41:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 22:41:52 INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-api_service-1, groupId=api_service] Unsubscribed all topics or patterns and assigned partitions
2024-12-17 22:41:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Resetting generation and member id due to: consumer pro-actively leaving the group
2024-12-17 22:41:52 INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-api_service-1, groupId=api_service] Request joining group due to: consumer pro-actively leaving the group
2024-12-17 22:41:52 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 22:41:52 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 22:41:52 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 22:41:52 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-api_service-1 unregistered
2024-12-17 22:41:52 INFO  o.s.k.l.KafkaMessageListenerContainer - api_service: Consumer stopped
2024-12-17 22:41:52 INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2024-12-17 22:41:52 INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2024-12-17 22:41:52 INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2024-12-17 22:41:52 INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2024-12-17 22:41:52 INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for producer-1 unregistered
2024-12-17 22:41:52 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-17 22:41:52 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-17 22:41:55 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
